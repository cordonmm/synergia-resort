<?phpclass WelcomeController extends BaseController {       /**     * User Model     * @var User     */    protected $user;    /**     * Inject the models.     * @param User $user     */    public function __construct(User $user)    {        parent::__construct();        $this->user = $user;    }    	/**	 * Returns all the blog posts.	 *	 * @return View	 */	public function getIndex()	{    $ch = curl_init("https://api.airbnb.com/v1/authorize");    curl_setopt($ch, CURLOPT_POST,true);    curl_setopt($ch, CURLOPT_POSTFIELDS, "client_id=3092nxybyb0otqw18e8nh5nty&locale=es-ES&currency=EUR&grant_type=password&password=alojamiento16&username=cristina@synergia.es");    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);    curl_setopt($ch,CURLOPT_RETURNTRANSFER,true);    $response = curl_exec($ch);    curl_close($ch);    if(array_key_exists("access_token",json_decode($response,true))) {    }else{        var_dump(json_decode($response,true));        exit;    }	$eventos = Evento::all();    $calendarEvent = array();    foreach ($eventos as $evento){        $fecha = new DateTime($evento->fecha_inicio);        $fechaFin = new DateTime($evento->fecha_fin);        do {            $calendarEvent[$fecha->format('Y-m-d')] = array(                                "url" => URL::to('eventos/' . $fecha->format('Y-m-d') . '/details'),            );            $fecha->add(new DateInterval('P1D'));        }while($fecha <= $fechaFin);    }    JavaScript::put([        'calendariodeeventos' => $calendarEvent,    ]);    $entradas = Entrada::all();    return View::make('site/welcome',compact('entradas'));  	}	}